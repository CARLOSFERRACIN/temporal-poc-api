# Temporal Dynamic Configuration
# https://docs.temporal.io/references/dynamic-configuration
#
# This file enables Nexus in Temporal Server.
# The file is mounted in docker-compose.yml and referenced via
# DYNAMIC_CONFIG_FILE_PATH=/etc/temporal/config/dynamicconfig/docker.yaml

# Enable Nexus operations on the server
system.enableNexus:
  - value: true
    constraints: {}

# Nexus callback endpoint configuration
# Temporal Server requires this configuration to process callbacks
# Worker processes via polling, but the server needs to know where to send callbacks
# Using Temporal Server's internal HTTP endpoint
component.nexusoperations.callback.endpoint.template:
  - value: "http://127.0.0.1:7243/namespaces/{{.NamespaceName}}/nexus/callback"
    constraints: {}

# Allow callbacks from any address (development only)
component.callbacks.allowedAddresses:
  - value:
      - Pattern: "*"
        AllowInsecure: true
